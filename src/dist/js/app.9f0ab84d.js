(function(){"use strict";var t={792:function(t,s,a){var e=a(6848),i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"App"},[s("router-view")],1)},o=[],n={data(){return{}},created(){},mounted(){},methods:{},components:{}},r=n,c=a(1656),l=(0,c.A)(r,i,o,!1,null,"93df07d6",null),d=l.exports,u=a(6178),p=function(){var t=this,s=t._self._c;return s("div",[s("router-view"),s("van-tabbar",{attrs:{route:"","active-color":"#ee0a24","inactive-color":"#000"}},[s("van-tabbar-item",{attrs:{to:"/home",icon:"wap-home-o"}},[t._v("首页")]),s("van-tabbar-item",{attrs:{to:"/fenlei",icon:"apps-o"}},[t._v("分类页")]),s("van-tabbar-item",{attrs:{to:"/shopcar",icon:"shopping-cart-o"}},[t._v("购物车")]),s("van-tabbar-item",{attrs:{to:"/my",icon:"user-o"}},[t._v("我的")])],1)],1)},h=[],m={data(){return{}},created(){},mounted(){},methods:{},components:{}},v=m,g=(0,c.A)(v,p,h,!1,null,"18fb8a3d",null),f=g.exports,_=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{title:"商品搜索","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词",clearable:""},scopedSlots:t._u([{key:"action",fn:function(){return[s("div",{on:{click:function(s){return t.gosearch(t.search)}}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.search,callback:function(s){t.search=s},expression:"search"}}),t.his.length?s("div",{staticClass:"search-history"},[s("div",{staticClass:"title"},[s("span",[t._v("最近搜索")]),s("van-icon",{attrs:{name:"delete-o",size:"16"},on:{click:t.clear}})],1),s("div",{staticClass:"list"},t._l(t.his,(function(a,e){return s("div",{key:e,staticClass:"list-item",on:{click:function(s){return t.gosearch(a)}}},[t._v(t._s(a))])})),0)]):t._e()],1)},C=[];a(4114);const y="hm_key",A="hiskey";function k(){const t={userId:"",token:""},s=localStorage.getItem(y);return s?JSON.parse(s):t}function x(t){localStorage.setItem(y,JSON.stringify(t))}function b(){localStorage.removeItem(y)}function w(){const t=localStorage.getItem(A);return t?JSON.parse(t):[]}function I(t){localStorage.setItem(A,JSON.stringify(t))}var S={name:"SearchIndex",data(){return{his:w(),search:""}},created(){},mounted(){},methods:{gosearch(t){const s=this.his.indexOf(t);-1!==s&&this.his.splice(s,1),""!==t&&(t=t.trim(),this.his.unshift(t),I(this.his),this.$router.push(`/searchlist?search=${t}`))},clear(){this.his=[]}},components:{}},$=S,P=(0,c.A)($,_,C,!1,null,"98e221f4",null),T=P.exports,q=function(){var t=this,s=t._self._c;return s("div",{staticClass:"App"},[t._v(" 支付系统 "+t._s(t.userinfo)+" ")])},K=[],j=a(3518),L={data(){return{}},created(){},computed:{...(0,j.aH)("user",["userinfo"])},mounted(){},methods:{},components:{}},U=L,E=(0,c.A)(U,q,K,!1,null,"4f1e9472",null),B=E.exports,N=function(){var t=this,s=t._self._c;return s("div",{staticClass:"pay"},[s("van-nav-bar",{attrs:{fixed:"",title:"订单结算台","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("div",{staticClass:"address"},[s("div",{staticClass:"left-icon"},[s("van-icon",{attrs:{name:"logistics"}})],1),s("div",{staticClass:"info"},[t._m(0),s("div",{staticClass:"info-address"},[t._v(" 江苏省 无锡市 南长街 110号 504 ")])]),s("div",{staticClass:"right-icon"},[s("van-icon",{attrs:{name:"arrow"}})],1)]),s("div",{staticClass:"pay-list"},[t._m(1),t._m(2),s("div",{staticClass:"pay-detail"},[t._m(3),t._m(4),s("div",{staticClass:"pay-cell"},[s("span",[t._v("配送费用：")]),s("span",{staticClass:"red"},[t._v("+￥0.00")])])]),s("div",{staticClass:"pay-way"},[s("span",{staticClass:"tit"},[t._v("支付方式")]),s("div",{staticClass:"pay-cell"},[s("span",[s("van-icon",{attrs:{name:"balance-o"}}),t._v("余额支付（可用 ¥ 999919.00 元）")],1),s("span",{staticClass:"red"},[s("van-icon",{attrs:{name:"passed"}})],1)])]),t._m(5)]),t._m(6)],1)},F=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"info-content"},[s("span",{staticClass:"name"},[t._v("小红")]),s("span",{staticClass:"mobile"},[t._v("13811112222")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"list"},[s("div",{staticClass:"goods-item"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:"http://cba.itlike.com/public/uploads/10001/20230321/8f505c6c437fc3d4b4310b57b1567544.jpg",alt:""}})]),s("div",{staticClass:"right"},[s("p",{staticClass:"tit text-ellipsis-2"},[t._v(" 三星手机 SAMSUNG Galaxy S23 8GB+256GB 超视觉夜拍系统 超清夜景 悠雾紫 5G手机 游戏拍照旗舰机s23 ")]),s("p",{staticClass:"info"},[s("span",{staticClass:"count"},[t._v("x3")]),s("span",{staticClass:"price"},[t._v("¥9.99")])])])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"flow-num-box"},[s("span",[t._v("共 12 件商品，合计：")]),s("span",{staticClass:"money"},[t._v("￥1219.00")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"pay-cell"},[s("span",[t._v("订单总金额：")]),s("span",{staticClass:"red"},[t._v("￥1219.00")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"pay-cell"},[s("span",[t._v("优惠券：")]),s("span",[t._v("无优惠券可用")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"buytips"},[s("textarea",{attrs:{placeholder:"选填：买家留言（50字内）",name:"",id:"",cols:"30",rows:"10"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"footer-fixed"},[s("div",{staticClass:"left"},[t._v("实付款："),s("span",[t._v("￥999919")])]),s("div",{staticClass:"tipsbtn"},[t._v("提交订单")])])}],O={name:"PayIndex",data(){return{}},methods:{}},H=O,M=(0,c.A)(H,N,F,!1,null,"f3f724dc",null),G=M.exports,J=function(){var t=this,s=t._self._c;return s("div",{staticClass:"prodetail"},[s("van-nav-bar",{attrs:{fixed:"",title:"商品详情页","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-swipe",{attrs:{autoplay:3e3},on:{change:t.onChange},scopedSlots:t._u([{key:"indicator",fn:function(){return[s("div",{staticClass:"custom-indicator"},[t._v(t._s(t.current+1)+" / "+t._s(t.images.length))])]},proxy:!0}])},t._l(t.images,(function(t,a){return s("van-swipe-item",{key:a},[s("img",{attrs:{src:t.external_url}})])})),1),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[s("div",{staticClass:"price"},[s("span",{staticClass:"now"},[t._v("￥"+t._s(t.detail.goods_price_min))]),s("span",{staticClass:"oldprice"},[t._v("￥"+t._s(t.detail.goods_price_max))])]),s("div",{staticClass:"sellcount"},[t._v("已售 "+t._s(t.detail.goods_sales)+" 件")])]),s("div",{staticClass:"msg text-ellipsis-2"},[t._v(" "+t._s(t.detail.goods_name)+" ")]),s("div",{staticClass:"service"},[s("div",{staticClass:"left-words"},[s("span",[s("van-icon",{attrs:{name:"passed"}}),t._v("七天无理由退货")],1),s("span",[s("van-icon",{attrs:{name:"passed"}}),t._v("48小时发货")],1)]),s("div",{staticClass:"right-icon"},[s("van-icon",{attrs:{name:"arrow"}})],1)])]),s("div",{staticClass:"comment"},[s("div",{staticClass:"comment-title"},[s("div",{staticClass:"left"},[t._v("商品评价 ("+t._s(t.com.length)+"条)")]),s("div",{staticClass:"right"},[t._v("查看更多 "),s("van-icon",{attrs:{name:"arrow"}})],1)]),s("div",{staticClass:"comment-list"},t._l(t.com,(function(a){return s("div",{key:a.comment_id,staticClass:"comment-item"},[s("div",{staticClass:"top"},[s("img",{attrs:{src:a.user.avatar_url||t.defaultImg,alt:""}}),s("div",{staticClass:"name"},[t._v(t._s(a.user.nick_name))]),s("van-rate",{attrs:{size:16,value:a.score/2,color:"#ffd21e","void-icon":"star","void-color":"#eee"}})],1),s("div",{staticClass:"content"},[t._v(" "+t._s(a.content)+" ")]),s("div",{staticClass:"time"},[t._v(" "+t._s(a.create_time)+" ")])])})),0)]),t._m(0),s("div",{staticClass:"footer"},[s("div",{staticClass:"icon-home",on:{click:function(s){return t.$router.push("/home")}}},[s("van-icon",{attrs:{name:"wap-home-o"}}),s("span",[t._v("首页")])],1),s("div",{staticClass:"icon-cart"},[t.biao>0?s("span",{staticClass:"num"},[t._v(t._s(t.biao))]):t._e(),s("van-icon",{attrs:{name:"shopping-cart-o"}}),s("span",{on:{click:function(s){return t.$router.push("/shopcar")}}},[t._v("购物车")])],1),s("div",{staticClass:"btn-add",on:{click:t.jia}},[t._v("加入购物车")]),s("div",{staticClass:"btn-buy",on:{click:t.mai}},[t._v("立刻购买")])]),s("van-action-sheet",{attrs:{title:"che"===t.mode?"加入购物车":"立刻购买"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[s("div",{staticClass:"product"},[s("div",{staticClass:"product-title"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:t.detail.goods_image,alt:""}})]),s("div",{staticClass:"right"},[s("div",{staticClass:"price"},[s("span",[t._v("¥")]),s("span",{staticClass:"nowprice"},[t._v(t._s(t.detail.goods_price_min))])]),s("div",{staticClass:"count"},[s("span",[t._v("库存")]),s("span",[t._v(t._s(t.detail.stock_total))])])])]),s("div",{staticClass:"num-box"},[s("span",[t._v("数量")]),s("CountBox",{model:{value:t.addCount,callback:function(s){t.addCount=s},expression:"addCount"}})],1),s("div",{staticClass:"showbtn"},["che"===t.mode?s("div",{staticClass:"btn",on:{click:t.gouwuche}},[t._v("加入购物车")]):s("div",{staticClass:"btn now",on:{click:t.buy}},[t._v("立刻购买")])])])])],1)},R=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"desc"},[s("img",{attrs:{src:"https://uimgproxy.suning.cn/uimg1/sop/commodity/kHgx21fZMWwqirkMhawkAw.jpg",alt:""}}),s("img",{attrs:{src:"https://uimgproxy.suning.cn/uimg1/sop/commodity/0rRMmncfF0kGjuK5cvLolg.jpg",alt:""}}),s("img",{attrs:{src:"https://uimgproxy.suning.cn/uimg1/sop/commodity/2P04A4Jn0HKxbKYSHc17kw.jpg",alt:""}}),s("img",{attrs:{src:"https://uimgproxy.suning.cn/uimg1/sop/commodity/MT4k-mPd0veQXWPPO5yTIw.jpg",alt:""}})])}],D=a(4373);async function z(t){const s=await D.A.get("http://smart-shop.itheima.net/index.php?s=/api/goods/detail",{params:{goodsId:t}},{headers:{platform:"H5"}});return s}async function Z(t){const s=await D.A.get("http://smart-shop.itheima.net/index.php?s=/api/comment/listRows",{params:{goodsId:t,limit:3}},{headers:{platform:"H5"}});return s}async function Y(t){const s=await D.A.get("http://smart-shop.itheima.net/index.php?s=/api/goods.service/list",{params:{goodsId:t}},{headers:{platform:"H5"}});return s}var V={namespaced:!0,state(){return{userinfo:k()}},getters:{},mutations:{getuser(t,s){t.userinfo=s,b(),x(s)}},actions:{},modules:{}},W=(a(9704),a(1981)),Q={namespaced:!0,state(){return{cartList:[]}},mutations:{setlist(t,s){t.cartList=s},xuan(t,s){const a=t.cartList.find((t=>t.goods_id===s));a.ischecked=!a.ischecked},quan(t,s){t.cartList.map((t=>t.ischecked=s))}},actions:{async getcarlist(t){const s=await st();s.data.data.list.forEach((t=>{t.ischecked=!1})),t.commit("setlist",s.data.data.list)},async up(t,s){await at(s)},async shan(t){const s=t.getters.selCartList,a=s.map((t=>t.goods_id));console.log(a);const e=await et(a);console.log(e),(0,W.A)(e.data.message),t.dispatch("getcarlist")}},getters:{cartTotal(t){return t.cartList.reduce(((t,s)=>t+s.goods_num),0)},selCartList(t){return t.cartList.filter((t=>t.ischecked))},selCount(t,s){return s.selCartList.reduce(((t,s)=>t+s.goods_num),0)},selPrice(t,s){return s.selCartList.reduce(((t,s)=>t+s.goods_num*s.goods.goods_price_min),0).toFixed(2)},all(t){return t.cartList.every((t=>t.ischecked))}}};e.Ay.use(j.Ay);var X=new j.Ay.Store({state:{},getters:{token(t){return t.user.userinfo.token}},mutations:{},actions:{},modules:{user:V,cart:Q}});async function tt(t){const s=await D.A.post("http://smart-shop.itheima.net/index.php?s=/api/cart/add",{goodsId:t.goodsId,goodsNum:t.goodsNum,goodsSkuId:t.goodsSkuId},{headers:{platform:"H5","Access-Token":X.getters.token}});return s}async function st(t){const s=await D.A.get("http://smart-shop.itheima.net/index.php?s=/api/cart/list",{headers:{platform:"H5","Access-Token":X.getters.token}});return s}async function at(t){const s=await D.A.post("http://smart-shop.itheima.net/index.php?s=/api/cart/update",{goodsId:t.goodsId,goodsNum:t.goodsNum,goodsSkuId:t.goodsSkuId},{headers:{platform:"H5","Access-Token":X.getters.token}});return s}async function et(t){const s=await D.A.post("http://smart-shop.itheima.net/index.php?s=/api/cart/clear",{cartIds:t},{headers:{platform:"H5","Access-Token":X.getters.token}});return s}var it="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkBAMAAACCzIhnAAAAKlBMVEXp6en////9/f3o6Ojw8PDj4+Pl5eXh4eHs7Oz7+/v09PTy8vL4+Pj29vY+GdZKAAADDElEQVRYw+3Wv0sbYRjA8ZNwp+Li89YhUQO+b6F0PDTx6NBBtHXpcBDPRkvhakiC1CGghqIIyRCdOqQlHdouUoqlm1Co0KUZhK4tFPvn9MnF5n6+P4R2KT6EhJe8n3y5ewOJduXJXZNr8l+Tecd5uFu6CinbS18+LR06pjJxxl4ATuZD2anMaXMKxHkOl/P6LFVxCnJi3YXAvP34zZWR1A6E54aUVI8j5J4mIcZBRExLr8WKRk5cGdmHyFyYEqI3o2SqJiH5NkRHl5B9iE3HFBJjI07StpDoC3Ey7QrJfBviYwiJCwmzLCQ7SeRCSNaTyEtTQFKbSSTtishsIrEFxBi6Jn+FFAWk+iSR1PnEyHWTSObM5pJSG5KnxSWPgDMdk0ce88gMl6zzyE0uWRnsoWFyziUubiWMAiMM8AmdtwT4zL38fJcxRnAXw6EI+0sGBpfoTUJIbxfF6ZnL5aTNP/0DklSht1w+KVFK4xVY1vjkqEkSKtltAdH2IF6Bjisi1vd4BfSGiByukWiFjtvi35dKO1qBI01M8AZEKtmahKQ2wxVK07aEaCuRCj3XZKTSDl8L6FIyPESCFZisSYm2F76Wjisn5TZlgYrekJPWLPErdKKm8kfxGfgVODFVyHATBpXJbU2FpDYGdwzGi2rkzqBC064a2fIrSP5VZTZQsZVIa8i/Y1M1JTJ86p9LZrWhdpSB01c6SqtJ/ApM1RtSYmDErzB4b0uJc0qYXyEsUzUlpDoKNFgh9LZjCkn1KTAWqhD4umvyScrJUULDFTTvsMMhxu4YimiFUfhVLSSTvPsAUMQqhMKbw0ICGckXf3giVsEHZO6vxsiIVewC7kqsUAZksR4lerENjPAquCCLhTAxtrv4Lr+CT6Rlh4hzCpSKKozQrGUGiDUKjIkrjMBEvTEg+FXsfyJWiLfRm96LV+unGPy0B6R83NuI73qAeKq/9h4epjgZ6w/Rt8Db2EeBCq4DFdQztUuy2mWKA0d9oq8RVULTNY+UMaKcyfdIao+oE/rKRqIvsCtMtpT7DVEPKD7Ga13IAAAAAElFTkSuQmCC",ot=function(){var t=this,s=t._self._c;return s("div",{staticClass:"count-box"},[s("button",{staticClass:"minus",on:{click:t.handleSub}},[t._v("-")]),s("input",{staticClass:"inp",attrs:{type:"text"},domProps:{value:t.value},on:{change:t.handleChange}}),s("button",{staticClass:"add",on:{click:t.handleAdd}},[t._v("+")])])},nt=[],rt={props:{value:{type:Number,default:1}},methods:{handleSub(){this.value<=1||this.$emit("input",this.value-1)},handleAdd(){this.$emit("input",this.value+1)},handleChange(t){const s=+t.target.value;isNaN(s)||s<1?t.target.value=this.value:this.$emit("input",s)}}},ct=rt,lt=(0,c.A)(ct,ot,nt,!1,null,"a5e78aca",null),dt=lt.exports,ut={name:"ProDetail",data(){return{images:[],current:0,detail:{},com:"",defaultImg:it,show:!1,mode:"",addCount:1,id:"",biao:""}},components:{CountBox:dt},computed:{},async created(){const t=await z(this.$route.params.id);console.log(t.data.data.detail),this.detail=t.data.data.detail,this.images=this.detail.goods_images;const s=await Z(this.$route.params.id);console.log(s.data.data.list),this.com=s.data.data.list;const a=await Y(this.$route.params.id);console.log(a.data.data.list),console.log(this.num),this.id=this.$route.params.id},methods:{onChange(t){this.current=t},jia(){this.mode="che",this.show=!0},mai(){this.mode="mai",this.show=!0},async gouwuche(){if(this.$store.getters.token){this.show=!1,console.log(this.id);const t={goodsId:this.id,goodsNum:this.addCount,goodsSkuId:this.detail.skuList[0].goods_sku_id},s=await tt(t);console.log(s),this.biao=s.data.data.cartTotal}else this.$dialog.confirm({title:"提示",message:"需要登录才能进行此操作",confirmButtonText:"去登陆"}).then((()=>{this.$router.replace({path:"/login",query:{backUrl:this.$route.fullPath}})})).catch((()=>{}))},buy(){this.$store.getters.token||this.$dialog.confirm({title:"提示",message:"需要登录才能进行此操作",confirmButtonText:"去登陆"}).then((()=>{this.$router.replace({path:"/login",query:{backUrl:this.$route.fullPath}})})).catch((()=>{}))}}},pt=ut,ht=(0,c.A)(pt,J,R,!1,null,"b8faacd8",null),mt=ht.exports,vt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"login"},[s("van-nav-bar",{attrs:{title:"会员登录","left-arrow":"","left-text":"返回"},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"form"},[s("div",{staticClass:"form-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"inp",attrs:{maxlength:"11",placeholder:"请输入手机号码",type:"text"},domProps:{value:t.phone},on:{input:function(s){s.target.composing||(t.phone=s.target.value)}}})]),s("div",{staticClass:"form-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.picCode,expression:"picCode"}],staticClass:"inp",attrs:{maxlength:"5",placeholder:"请输入图形验证码",type:"text"},domProps:{value:t.picCode},on:{input:function(s){s.target.composing||(t.picCode=s.target.value)}}}),t.picUrl?s("img",{attrs:{src:t.picUrl,alt:""}}):t._e()]),s("div",{staticClass:"form-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"inp",attrs:{placeholder:"请输入短信验证码",type:"text"},domProps:{value:t.msg},on:{input:function(s){s.target.composing||(t.msg=s.target.value)}}}),s("button",{on:{click:t.getcode}},[t._v(t._s(t.totalsecond===t.second?"获取验证码":t.second+"秒后重新发送"))])])]),s("div",{staticClass:"login-btn",on:{click:t.denglu}},[t._v("登录")]),s("div",[t._v(t._s(t.userinfo))])])],1)},gt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"title"},[s("h3",[t._v("手机号登录")]),s("p",[t._v("未注册的手机号登录后将自动注册")])])}];async function ft(){const t=await D.A.get("http://smart-shop.itheima.net/index.php?s=/api/captcha/image");return{picUrl:t.data.data.base64,picKey:t.data.data.key}}async function _t(t,s,a){const e=await D.A.post("http://smart-shop.itheima.net/index.php?s=/api/captcha/sendSmsCaptcha",{from:{captchaCode:t,captchaKey:s,mobile:a}});return e}async function Ct(t){const s=await D.A.post("http://smart-shop.itheima.net/index.php?s=/api/passport/login",{form:{smsCode:t.code,mobile:t.phone,isParty:!1,partyData:{}}},{headers:{platform:"H5"}});return s}var yt={data(){return{picCode:"",picUrl:"",picKey:"",phone:"",totalsecond:20,second:20,timer:null,msg:"",rcode:""}},computed:{...(0,j.aH)("user",["userinfo"])},name:"LoginPage",async created(){const t=await ft();this.picUrl=t.picUrl,this.picKey=t.picKey},methods:{...(0,j.PY)("user",["getuser"]),async getPicCode(){},async getcode(){if(this.yanzheng()&&!this.timer&&this.totalsecond===this.second){const t=await _t(this.picCode,this.picKey,this.phone);200===t.status?(this.$toast("短信验证码发送成功"),this.rcode=t.data.message.slice(-6)):this.$toast("验证码输入错误"),this.timer=setInterval((()=>{this.second--,0===this.second&&(clearInterval(this.timer),this.timer=null,this.second=this.totalsecond)}),1e3)}},yanzheng(){return/^1[3-9]\d{9}$/.test(this.phone)?!!/^\w{4}$/.test(this.picCode)||(this.$toast("请输入正确的图形验证码"),!1):(this.$toast("请输入正确手机号码"),!1)},async denglu(){if(this.yanzheng()&&this.msg==this.rcode){const t=await Ct({code:this.msg,phone:this.phone});this.$toast(`${t.data.message}`);const s=this.$route.query.backUrl||"/";this.$store.commit("user/getuser",{userId:t.data.data.userId,token:t.data.data.token}),console.log(t.data.data),this.getuser({userId:t.data.data.userId,token:t.data.data.token}),this.$router.push(s)}else this.$toast("手机验证码错误")}},destroyed(){clearInterval(this.timer)}},At=yt,kt=(0,c.A)(At,vt,gt,!1,null,"01bd4cf3",null),xt=kt.exports,bt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"home"},[s("van-nav-bar",{attrs:{title:"智慧商城",fixed:""}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#f1f1f2",placeholder:"请在此输入搜索关键词"},on:{click:function(s){return t.$router.push("/search")}}}),s("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},[s("van-swipe-item",[s("img",{attrs:{src:t.res.items[1].data[0].imgUrl,alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:t.res.items[1].data[1].imgUrl,alt:""}})]),s("van-swipe-item",[s("img",{attrs:{src:t.res.items[1].data[2].imgUrl,alt:""}})])],1),s("van-grid",{attrs:{"column-num":"5","icon-size":"40"}},t._l(t.res.items[3].data,(function(a,e){return s("van-grid-item",{key:e,attrs:{icon:a.imgUrl,text:a.text},on:{click:function(s){return t.$router.push("/fenlei")}}})})),1),s("div",{staticClass:"main"},[s("img",{attrs:{src:t.res.items[4].data[0].imgUrl,alt:""}})]),s("div",{staticClass:"guess"},[s("p",{staticClass:"guess-title"},[t._v("—— 猜你喜欢 ——")]),s("div",{staticClass:"goods-list"},t._l(t.res.items[6].data,(function(t){return s("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)])],1)},wt=[],It=function(){var t=this,s=t._self._c;return s("div",{staticClass:"goods-item",on:{click:function(s){return t.$router.push(`/info/${t.item.goods_id}`)}}},[s("div",{staticClass:"left"},[s("img",{attrs:{src:t.item.goods_image,alt:""}})]),s("div",{staticClass:"right"},[s("p",{staticClass:"tit text-ellipsis-2"},[t._v(" "+t._s(t.item.goods_name)+" ")]),s("p",{staticClass:"count"},[t._v("已售"+t._s(t.item.goods_sales)+"件")]),s("p",{staticClass:"price"},[s("span",{staticClass:"new"},[t._v("¥"+t._s(t.item.goods_price_min))]),s("span",{staticClass:"old"},[t._v("¥"+t._s(t.item.goods_price_max))])])])])},St=[],$t={name:"GoodsItem",props:["item"],methods:{}},Pt=$t,Tt=(0,c.A)(Pt,It,St,!1,null,"2db776b8",null),qt=Tt.exports;async function Kt(){const t=await D.A.get("http://smart-shop.itheima.net/index.php?s=/api/page/detail",{params:{pageId:0}});return t.data.data}e.Ay.component("GoodsItem",qt);var jt={name:"HomePage",data(){return{res:""}},components:{GoodsItem:qt},async created(){const t=await Kt();console.log(t),this.res=t.pageData},mounted(){},methods:{},components:{}},Lt=jt,Ut=(0,c.A)(Lt,bt,wt,!1,null,"c706d144",null),Et=Ut.exports,Bt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"category"},[s("van-nav-bar",{attrs:{title:"全部分类",fixed:""}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#f1f1f2",placeholder:"请输入搜索关键词"},on:{click:function(s){return t.$router.push("/search")}}}),s("div",{staticClass:"list-box"},[s("div",{staticClass:"left"},[s("ul",t._l(t.list,(function(a,e){return s("li",{key:a.category_id},[s("a",{class:{active:e===t.activeIndex},attrs:{href:"javascript:;"},on:{click:function(s){t.activeIndex=e}}},[t._v(t._s(a.name))])])})),0)]),s("div",{staticClass:"right"},t._l(t.list[t.activeIndex]?.children,(function(a){return s("div",{key:a.category_id,staticClass:"cate-goods",on:{click:function(s){return t.$router.push(`/searchlist?categoryId=${a.category_id}`)}}},[s("img",{attrs:{src:a.image?.external_url,alt:""}}),s("p",[t._v(t._s(a.name))])])})),0)])],1)},Nt=[];async function Ft(){const t=await D.A.post("http://smart-shop.itheima.net/index.php?s=/api/category/list",{headers:{platform:"H5"}});return t}var Ot={name:"CategoryPage",async created(){const t=await Ft();console.log(t.data.data.list),this.list=t.data.data.list},data(){return{list:[],activeIndex:0}},methods:{}},Ht=Ot,Mt=(0,c.A)(Ht,Bt,Nt,!1,null,"7d9ddaa0",null),Gt=Mt.exports,Jt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cart"},[s("van-nav-bar",{attrs:{title:"购物车",fixed:""}}),s("div",{staticClass:"cart-title"},[s("span",{staticClass:"all"},[t._v("共"),s("i",[t._v(t._s(t.cartTotal||0))]),t._v("件商品")]),s("span",{staticClass:"edit"},[s("van-icon",{attrs:{name:"edit"},on:{click:t.bian}}),t._v(" 编辑 ")],1)]),s("div",{staticClass:"cart-list"},t._l(t.cartList,(function(a){return s("div",{key:a.goods_id,staticClass:"cart-item"},[s("van-checkbox",{attrs:{value:a.ischecked},on:{click:function(s){return t.qie(a.goods_id)}}}),s("div",{staticClass:"show"},[s("img",{attrs:{src:a.goods.goods_image,alt:""}})]),s("div",{staticClass:"info"},[s("span",{staticClass:"tit text-ellipsis-2"},[t._v(t._s(a.goods.goods_name))]),s("span",{staticClass:"bottom"},[s("div",{staticClass:"price"},[t._v("¥ "),s("span",[t._v(t._s(a.goods.goods_price_max))])]),s("CountBox",{attrs:{value:a.goods_num,item:a},on:{input:s=>t.count(s,a.goods_id,a.goods_sku_id)}})],1)])],1)})),0),s("div",{staticClass:"footer-fixed"},[s("div",{staticClass:"all-check",on:{click:function(s){return t.quan1(!t.isquan)}}},[s("van-checkbox",{attrs:{"icon-size":"18",value:t.all}}),t._v(" 全选 ")],1),s("div",{staticClass:"all-total"},[s("div",{staticClass:"price"},[s("span",[t._v("合计：")]),s("span",[t._v("¥ "),s("i",{staticClass:"totalPrice"},[t._v(t._s(t.selPrice))])])]),t.isedit?s("div",{staticClass:"delete",class:{disabled:0===t.selCount},on:{click:t.shan}},[t._v("删除")]):s("div",{staticClass:"goPay",class:{disabled:0===t.selCount},on:{click:function(s){return t.$router.push("/myorder")}}},[t._v("结算("+t._s(t.selCount)+")")])])])],1)},Rt=[],Dt={data(){return{isquan:!0,isedit:!1}},components:{CountBox:dt},wetch:{isedit(t){t&&this.$store.commit("cart/quan",!1)}},name:"CartPage",async created(){this.$store.getters.token&&(console.log("token exist"),this.getcarlist());const t=await at({goodsId:10038,goodsSkuId:"0",goodsNum:2});console.log(t.data)},computed:{...(0,j.aH)("cart",["cartList"]),...(0,j.L8)("cart",["cartTotal","selCount","selPrice","all"])},methods:{...(0,j.i0)("cart",["getcarlist"]),...(0,j.PY)("cart",["quan"]),qie(t){this.$store.commit("cart/xuan",t)},quan1(t){this.$store.commit("cart/quan",t),this.isquan=!this.isquan},count(t,s,a){const e={goodsId:s,goodsNum:t,goodsSkuId:a};console.log(t,s,a),this.$store.dispatch("cart/up",e)},bian(t){this.isedit=!this.isedit,this.$store.commit("cart/quan",!t)},shan(){0!==this.selCount&&this.$store.dispatch("cart/shan")}}},zt=Dt,Zt=(0,c.A)(zt,Jt,Rt,!1,null,"410ee1bf",null),Yt=Zt.exports,Vt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"App"},[t._v(" 我的 ")])},Wt=[],Qt={data(){return{}},created(){},mounted(){},methods:{},components:{}},Xt=Qt,ts=(0,c.A)(Xt,Vt,Wt,!1,null,"7b013454",null),ss=ts.exports,as=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.querygoods,"show-action":""},on:{click:function(s){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[s("van-icon",{staticClass:"tool",attrs:{name:"apps-o"}})]},proxy:!0}])}),t._m(0),s("div",{staticClass:"goods-list"},t._l(t.shuju,(function(t){return s("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},es=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"sort-btns"},[s("div",{staticClass:"sort-item"},[t._v("综合")]),s("div",{staticClass:"sort-item"},[t._v("销量")]),s("div",{staticClass:"sort-item"},[t._v("价格 ")])])}];async function is(t){const s=await D.A.post("http://smart-shop.itheima.net/index.php?s=/api/goods/list",{params:{categoryId:t.categoryId,goodsName:t.goodsName,page:t.page}},{headers:{platform:"H5"}});return s}var os={name:"SearchIndex",data(){return{shuju:"",page:1}},components:{GoodsItem:qt},computed:{querygoods(){return this.$route.query.search}},async created(){const t=await is({categoryId:this.$route.query.categoryId,goodsName:this.querygoods,page:this.page});console.log(t.data.data.list.data),this.shuju=t.data.data.list.data}},ns=os,rs=(0,c.A)(ns,as,es,!1,null,"783e7ce4",null),cs=rs.exports;e.Ay.use(u.Ay);const ls=[{path:"/",component:f,redirect:"/home",children:[{path:"/home",component:Et},{path:"/fenlei",component:Gt},{path:"/shopcar",component:Yt},{path:"/my",component:ss},{path:"/login",component:xt}]},{path:"/search",component:T},{path:"/pay",component:B},{path:"/myorder",component:G},{path:"/info/:id",component:mt},{path:"/searchlist",component:cs}],ds=new u.Ay({routes:ls}),us=["/pay","/myorder","/shopcar"];ds.beforeEach(((t,s,a)=>{if(!us.includes(t.path))return void a();const e=X.getters.token;console.log(e),e?a():a("/login")}));var ps=ds,hs=(a(9831),a(5324)),ms=(a(6117),a(7555)),vs=(a(9809),a(4365)),gs=(a(3425),a(6141)),fs=(a(7231),a(9363)),_s=(a(4510),a(1864)),Cs=(a(9125),a(2665)),ys=(a(9851),a(1431)),As=(a(7057),a(6749)),ks=(a(79),a(7235)),xs=(a(4537),a(8541)),bs=(a(3212),a(6874)),ws=(a(9867),a(4648)),Is=(a(2636),a(6579)),Ss=(a(4368),a(6885)),$s=(a(2512),a(6852)),Ps=(a(440),a(162));e.Ay.use(Ps.A),e.Ay.use($s.A),e.Ay.use(Ss.A),e.Ay.use(Is.A),e.Ay.use(ws.A),e.Ay.use(bs.A),e.Ay.use(xs.A),e.Ay.use(ks.A),e.Ay.use(As.A),e.Ay.use(ys.A),e.Ay.use(Cs.A),e.Ay.use(W.A),e.Ay.use(_s.A),e.Ay.use(fs.A),e.Ay.use(gs.A),e.Ay.use(vs.A),e.Ay.use(ms.A),e.Ay.use(hs.A),e.Ay.config.productionTip=!1,new e.Ay({router:ps,store:X,render:t=>t(d)}).$mount("#app")}},s={};function a(e){var i=s[e];if(void 0!==i)return i.exports;var o=s[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(s,e,i,o){if(!e){var n=1/0;for(d=0;d<t.length;d++){e=t[d][0],i=t[d][1],o=t[d][2];for(var r=!0,c=0;c<e.length;c++)(!1&o||n>=o)&&Object.keys(a.O).every((function(t){return a.O[t](e[c])}))?e.splice(c--,1):(r=!1,o<n&&(n=o));if(r){t.splice(d--,1);var l=i();void 0!==l&&(s=l)}}return s}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[e,i,o]}}(),function(){a.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(s,{a:s}),s}}(),function(){a.d=function(t,s){for(var e in s)a.o(s,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(s){return 0===t[s]};var s=function(s,e){var i,o,n=e[0],r=e[1],c=e[2],l=0;if(n.some((function(s){return 0!==t[s]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(c)var d=c(a)}for(s&&s(e);l<n.length;l++)o=n[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(d)},e=self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=a.O(void 0,[504],(function(){return a(792)}));e=a.O(e)})();
//# sourceMappingURL=app.9f0ab84d.js.map